"use strict";(self.webpackChunktest_task=self.webpackChunktest_task||[]).push([[184],{3184:(A,p,i)=>{i.r(p),i.d(p,{NoteBoardModule:()=>y});var u=i(6895),l=i(9685),s=i(4006),t=i(4650),m=i(5135),c=i(9764),h=i(4859),f=i(7392),g=i(4988),C=i(4144),v=i(5166);function N(o,r){1&o&&(t.TgZ(0,"div",13)(1,"h2"),t._uU(2,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u043c\u0435\u0442\u043a\u0438"),t.qZA()())}function T(o,r){1&o&&(t.TgZ(0,"div",13)(1,"h2"),t._uU(2,"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0437\u0430\u043c\u0435\u0442\u043a\u0438"),t.qZA()())}function b(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-basic-chip",14),t._uU(1),t.ALo(2,"removeHash"),t.TgZ(3,"button",15),t.NdJ("click",function(){const d=t.CHM(e).$implicit,F=t.oxw();return t.KtG(F.deleteTag(d))}),t.TgZ(4,"mat-icon",16),t._uU(5,"cancel"),t.qZA()()()}if(2&o){const e=r.$implicit;t.xp6(1),t.hij("",t.lcZ(2,1,e)," ")}}function x(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.handleDeleteClick())}),t.TgZ(1,"mat-icon"),t._uU(2,"delete"),t.qZA()()}}const B=[{path:"",component:(()=>{class o{constructor(e,n){this.getNotesService=e,this.router=n,this.tags=[],this.appointment="create",this.startTags=[],this.noteForm=new s.cw({text:new s.NI("",s.kI.required),tags:new s.NI("")})}ngOnInit(){const e=this.getNotesService.currentNote;e&&(this.noteForm.patchValue(e),this.text=e.text,this.tags=e.tags),this.noteForm.controls.tags.setValue(""),this.text?.split(" ").forEach(n=>{n.startsWith("#")&&this.startTags?.push(n)}),this.appointment=this.getNotesService.appointment}addTag(e){this.tags.includes(e)||(this.tags=[...this.tags,e]),this.noteForm.controls.tags.setValue("")}handleBackClick(){this.router.navigate(["notes"])}deleteTag(e){const n=this.tags.indexOf(e);this.tags=n<this.tags.length-1?[...this.tags.slice(0,n),...this.tags.slice(n+1)]:[...this.tags.slice(0,n)]}handleDeleteClick(){this.getNotesService.delete(),this.router.navigate(["notes"])}handleInputChange(){const e=this.noteForm.controls.text.value.split(" "),n=[];e.forEach(a=>{a.startsWith("#")&&n.push(a)}),this.startTags.forEach(a=>{n.includes(a)||this.deleteTag(a)}),n.forEach(a=>{this.addTag(a)}),this.startTags=n}handleSaveClick(){const e=Object.assign(this.noteForm.value);e.tags=this.tags,this.getNotesService.save(e),this.router.navigate(["notes"])}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(m.t),t.Y36(l.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-note-board"]],decls:20,vars:7,consts:[["class","title",4,"ngIf"],["mat-flat-button","","color","primary",1,"go-back-btn",3,"click"],[1,"form",3,"formGroup","submit"],["appearance","fill",1,"example-full-width"],["matInput","","formControlName","text",3,"change"],[1,"note-tags-wrapper"],["tagsList",""],["class","note-tag","disableRipple","true",4,"ngFor","ngForOf"],["placeholder","\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u0442\u0435\u0433...","formControlName","tags",3,"matChipInputFor","matChipInputTokenEnd"],["tagInput",""],[1,"form-group","controls"],["mat-flat-button","","color","primary","type","submit",1,"save-btn",3,"disabled"],["class","remove-btn","mat-flat-button","","color","warn","type","button",3,"click",4,"ngIf"],[1,"title"],["disableRipple","true",1,"note-tag"],[1,"note-tag-btn",3,"click"],[1,"note-tag-icon"],["mat-flat-button","","color","warn","type","button",1,"remove-btn",3,"click"]],template:function(e,n){if(1&e&&(t.YNc(0,N,3,0,"div",0),t.YNc(1,T,3,0,"div",0),t.TgZ(2,"button",1),t.NdJ("click",function(){return n.handleBackClick()}),t._uU(3,"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"),t.qZA(),t.TgZ(4,"form",2),t.NdJ("submit",function(){return n.handleSaveClick()}),t.TgZ(5,"mat-form-field",3)(6,"mat-label"),t._uU(7,"\u0412\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u0437\u0430\u043c\u0435\u0442\u043a\u0438"),t.qZA(),t.TgZ(8,"textarea",4),t.NdJ("change",function(){return n.handleInputChange()}),t.qZA()(),t.TgZ(9,"div",5)(10,"mat-chip-list",null,6),t.YNc(12,b,6,3,"mat-basic-chip",7),t.TgZ(13,"input",8,9),t.NdJ("matChipInputTokenEnd",function(d){return n.addTag(d.value)}),t.qZA()()(),t.TgZ(15,"div",10)(16,"button",11)(17,"mat-icon"),t._uU(18,"save"),t.qZA()(),t.YNc(19,x,3,0,"button",12),t.qZA()()),2&e){const a=t.MAs(11);t.Q6J("ngIf","edit"===n.appointment),t.xp6(1),t.Q6J("ngIf","create"===n.appointment),t.xp6(3),t.Q6J("formGroup",n.noteForm),t.xp6(8),t.Q6J("ngForOf",n.tags),t.xp6(1),t.Q6J("matChipInputFor",a),t.xp6(3),t.Q6J("disabled",n.noteForm.invalid),t.xp6(3),t.Q6J("ngIf","edit"===n.appointment)}},dependencies:[u.sg,u.O5,c.qn,c.HS,c.oH,h.lW,f.Hw,g.KE,g.hX,C.Nt,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,v.a],styles:[".title[_ngcontent-%COMP%]{display:flex;justify-content:center}.go-back-btn[_ngcontent-%COMP%]{margin-left:8%}.form[_ngcontent-%COMP%]{width:80%;padding:1.5rem;margin:0 auto;background-color:#f5f5f5;display:flex;flex-direction:column;justify-content:center}.form-group.controls[_ngcontent-%COMP%]{margin-top:3rem;display:flex;justify-content:space-between}.note-tags-wrapper[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:.5rem 1.5rem 0}.note-tag[_ngcontent-%COMP%]{display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px;background-color:#e0e0e0;color:#000000de;margin:.3rem}.note-tag-btn[_ngcontent-%COMP%]{cursor:pointer;display:flex;padding:0;margin-left:.5rem}.note-tag-btn[_ngcontent-%COMP%]:hover   .filter-tag-icon[_ngcontent-%COMP%]{color:#fc7373}.note-tag-icon[_ngcontent-%COMP%]{color:silver;width:18px;height:18px;font-size:18px;transition:all .3s}.delete-btn[_ngcontent-%COMP%]{cursor:pointer;transition:all .3s}.delete-btn[_ngcontent-%COMP%]:hover{color:#fe6d6d}"]}),o})()},{path:"**",redirectTo:""}];let Z=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[l.Bz.forChild(B),l.Bz]}),o})();var M=i(898),_=i(4466);let y=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[u.ez,Z,M.q,s.UX,_.m]}),o})()}}]);